import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEYY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Mumbai , for 3 days for just me with a cheap budget, Give me a hotels options list with Hotelname, Hotel Address , Price , Hotel Image url, geo coordinates , rating , descriptions and suggest itinerary with placename , place details , place image url  , geo coordinates , ticket pricing , time t travel each of the location for 3 days with each day plan with best time to visit in json format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"name\": \"The Backpackers Hostel\",\n      \"address\": \"10, Hill Road, Bandra West, Mumbai, Maharashtra 400050\",\n      \"price\": \"₹500 - ₹800 per night\",\n      \"image_url\": \"https://images.trvl-media.com/media/content/hotels/1100000/1030000/1029900/1029833/1029833_1024x768.jpg\",\n      \"geo_coordinates\": \"19.0579, 72.8322\",\n      \"rating\": \"4.0\",\n      \"description\": \"A popular and affordable hostel with dorms and private rooms, located in the vibrant Bandra area.\"\n    },\n    {\n      \"name\": \"Zostel Mumbai\",\n      \"address\": \"11/13, 1st Floor,  Dhobi Talao, Mumbai, Maharashtra 400002\",\n      \"price\": \"₹600 - ₹1000 per night\",\n      \"image_url\": \"https://images.trvl-media.com/media/content/hotels/1050000/1047000/1046900/1046895/1046895_1024x768.jpg\",\n      \"geo_coordinates\": \"18.9419, 72.8349\",\n      \"rating\": \"4.5\",\n      \"description\": \"A stylish hostel with a rooftop terrace and common areas, perfect for socializing.\"\n    },\n    {\n      \"name\": \"Treebo Trend The Monarch\",\n      \"address\": \"101, 1st Floor, Shop No 3, 4, 5, Plot No. 65, Sector 10, Near, 190, Andheri Kurla Rd, Andheri East, Mumbai, Maharashtra 400059\",\n      \"price\": \"₹1500 - ₹2500 per night\",\n      \"image_url\": \"https://images.trvl-media.com/media/content/hotels/1000000/995000/994900/994836/994836_1024x768.jpg\",\n      \"geo_coordinates\": \"19.0869, 72.8925\",\n      \"rating\": \"4.2\",\n      \"description\": \"A clean and comfortable budget hotel with modern amenities and a good location.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"title\": \"Mumbai's Heritage and Culture\",\n      \"best_time_to_visit\": \"Morning\",\n      \"places\": [\n        {\n          \"name\": \"Gateway of India\",\n          \"details\": \"A historic arch built in 1924, marking the entrance to the harbor.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Gateway_of_India_Mumbai.jpg/1280px-Gateway_of_India_Mumbai.jpg\",\n          \"geo_coordinates\": \"18.9220, 72.8347\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Elephanta Caves\",\n          \"details\": \"Ancient rock-cut cave temples with Hindu sculptures, a UNESCO World Heritage site.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Elephanta_Caves.jpg/1280px-Elephanta_Caves.jpg\",\n          \"geo_coordinates\": \"18.9830, 72.9725\",\n          \"ticket_pricing\": \"₹25 for Indians, ₹600 for foreigners\",\n          \"time_to_travel\": \"3-4 hours (including ferry ride)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"title\": \"South Mumbai Exploration\",\n      \"best_time_to_visit\": \"Afternoon\",\n      \"places\": [\n        {\n          \"name\": \"Dhobi Ghat\",\n          \"details\": \"The world's largest open-air laundry, a fascinating spectacle of human activity.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Dhobi_Ghat_in_Mumbai.jpg/1280px-Dhobi_Ghat_in_Mumbai.jpg\",\n          \"geo_coordinates\": \"18.9425, 72.8355\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n          \"details\": \"A magnificent Victorian railway station, a UNESCO World Heritage site.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/CST_Mumbai.jpg/1280px-CST_Mumbai.jpg\",\n          \"geo_coordinates\": \"18.9400, 72.8360\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Mani Bhavan\",\n          \"details\": \"The former residence of Mahatma Gandhi in Mumbai, now a museum.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Mani_Bhavan_Mumbai.jpg/1280px-Mani_Bhavan_Mumbai.jpg\",\n          \"geo_coordinates\": \"18.9433, 72.8381\",\n          \"ticket_pricing\": \"₹10\",\n          \"time_to_travel\": \"1-2 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"title\": \"Bandra and Juhu Beach\",\n      \"best_time_to_visit\": \"Evening\",\n      \"places\": [\n        {\n          \"name\": \"Bandra-Worli Sea Link\",\n          \"details\": \"A scenic 5.6 km long bridge offering panoramic views of the city and Arabian Sea.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Bandra-Worli_Sea_Link_from_Worli.jpg/1280px-Bandra-Worli_Sea_Link_from_Worli.jpg\",\n          \"geo_coordinates\": \"19.0525, 72.8470\",\n          \"ticket_pricing\": \"₹60 for cars, ₹15 for motorcycles\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Juhu Beach\",\n          \"details\": \"A famous beach known for its street food, sunset views, and horse riding.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Juhu_Beach.jpg/1280px-Juhu_Beach.jpg\",\n          \"geo_coordinates\": \"19.0710, 72.8450\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2-3 hours\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Explanation:**\n\nThis JSON file contains a travel plan for Mumbai for 3 days on a cheap budget. It includes:\n\n* **Hotels:**\n    * **List of hotels** with their names, addresses, prices, image URLs, geo coordinates, ratings, and descriptions. \n* **Itinerary:**\n    * **Day-wise plan** with a title, best time to visit, and a list of places to visit.\n    * **Places:** Each place includes its name, details, image URL, geo coordinates, ticket pricing, and estimated time to travel.\n\n**Tips for Budget Travel:**\n\n* **Accommodation:** Choose hostels or budget-friendly hotels.\n* **Food:** Explore local street food options for affordable and delicious meals.\n* **Transportation:** Utilize public transport like local trains and buses.\n* **Attractions:** Many attractions are free to visit or have very low entry fees.\n* **Travel Time:** Optimize your travel time to save money and maximize your experience.\n\n**Additional Tips for Mumbai:**\n\n* **Bargaining:** Always bargain in local markets and shops.\n* **Dress:** Dress modestly and comfortably, especially when visiting religious sites.\n* **Safety:** Stay aware of your surroundings, especially in crowded areas.\n* **Monsoon Season:**  If traveling during monsoon season, be prepared for rain and carry an umbrella or raincoat. \n\n**Enjoy your trip to Mumbai!** \n"},
          ],
        },
      ],
    });